suite: test credentials-secret
templates:
- credentials-secret.yaml
tests:
- it: Should match snapshot
  set:
    credentials.apiKey: "test-api-key"
    credentials.authtoken: "test-authtoken"
  asserts:
  - matchSnapshot: {}
- it: Should not generate if credentials aren't set
  set:
  asserts:
  - hasDocuments:
      count: 0
- it: Should fail to template the file if only 1 credential is set
  set:
    credentials.apiKey: "test-api-key"
  asserts:
  - failedTemplate:
      errorMessage: An ngrok Authtoken is required
