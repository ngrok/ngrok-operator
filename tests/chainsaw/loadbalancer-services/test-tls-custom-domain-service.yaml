apiVersion: v1
kind: Service
metadata:
  name: test-tls-custom-domain-lb
  annotations:
    k8s.ngrok.com/url: tls://service-lb-tls-test-ngrok-operator.example.com:443
    k8s.ngrok.com/mapping-strategy: endpoints-verbose
  labels:
    app.kubernetes.io/name: test-server
spec:
  allocateLoadBalancerNodePorts: false
  loadBalancerClass: ngrok
  ports:
    - name: http
      port: 80
      protocol: TCP
      targetPort: 80
  selector:
    app.kubernetes.io/name: test-server
  type: LoadBalancer
